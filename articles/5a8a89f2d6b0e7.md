---
title: "[Astro] SSG + SSR 構成でAPIエンドポイントを叩くまで"
emoji: "🌟"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Astro"]
published: true
---

## モチベーション

- Next などにあるアレ、Astro ではどうするか
- hybrid モードでの実装について

## 目的

- カスタムエンドポイントを作ってフロントから叩いてコンテンツ取得をする
- SSG構成をベースにしながら、部分的にSSRとして機能させる

## 実装

## SSR を機能させる場合について

今回は `hybrid` としてかつ、nodejsアダプターを設定することとする

```javascript
import node from "@astrojs/node";

export default defineConfig({
    output: "hybrid",
    adapter: node({
        mode: 'standalone'
    })
});
```

実行したいファイル（**astroテンプレート もしくは スクリプトファイル**）にて、下記を記載する。

```javascript
---
export const prerender = false
---
...
```

-> 部分的にSSR実行できるようになる。

逆にastro.config で `output: server` と設定した状態で

`export const prerender = true` とすると **プロジェクト全体をSSRベースにした状態で部分的にSSGとしての構成**が可能

## 最後に


## 参考文献

https://docs.astro.build/ja/guides/endpoints/

<!-- メモがてらにastro でカスタムエンドポイントを作ったサンプルを載せた記事を作ろうと思います。

下記の構成内容を鑑みて、いい感じに味付けしてください。
 -->

