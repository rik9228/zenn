---
title: "CSSグリッドで作るラッパー"
emoji: "🌟"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

# はじめに
サイトコーディングをする際、コンテンツのレイアウトを揃えるために組むスタイル（以下ラッパーとします）があります。
具体的には以下のようなものを指します。

<!-- 画像 -->

こちらのラッパーですが、**CSSグリッド**を使うことでも実装が可能です。
また従来の実装ではできなかったアプローチをとることができるので、今回はその解説をいたします。

# 実装
下記が実際のコードになります。比較として二つのアプローチで実装したコードを用意しました。
二つの挙動に違いはありません。比較しながら説明に移ります。

<!-- 全体のコード -->

## 従来の方法
CSSグリッドを使わなかった従来の実装方法です。（コンテンツ幅を1080pxにした例）

```css
.container {
    max-width: 1080px;
    width: calc(100% - 20px * 2);
    margin-right: auto;
    margin-left: auto;

    /* width: min(1080px, 100% - 20px * 2); */
}
```

上記のスタイルによりサイト内のコンテンツを綺麗に揃えることが可能になります。

`calc()`を使うことのメリットとしては、
* 画面幅が max-width で設けた幅よりも大きい場合には、max値まで要素の幅が伸びきってくれる
* max-width の幅よりも画面幅が狭くなった場合に、画面の両端に指定したスペース分の余白を確保してくれること
の2点にあります。

※コメントアウト部分：ちなみに`min関数`を使うことで `max-width` と `width` の記述を1行で実装できます。`min関数`の中では`calc関数`は必要としません。

このラッパーのスタイルを、下記のような感じで使用することが多いのではないでしょうか。
（下記イメージ）

```html
<section class="about">
    <div class="container">
        <!-- コンテンツ -->
    </div>
</section>

<section class="feature">
    <div class="container">
        <!-- コンテンツ -->
    </div>
</section>
...
```

## CSS Gridを使った方法

上記の実装をCSS グリッドで実装すると下記のようなコードになります。（コンテンツ幅を1080pxにした例）

```css
.grid-container {
  display:grid;
  grid-template-columns: 1fr min(1080px, 100% - 20px * 2) 1fr;
}

.grid-container > * {
  grid-column: 2;
}
```

:::details コードについて詳しく

1. ラッパーにあたる要素に対して、`display: grid;` と `grid-template-columns`を指定します。
   *  `grid-template-columns` の指定により、画面では下記のような3列のグリッドレイアウトが形成されます。従来の実装にあった コンテンツの最大幅と縮み切った際の実装を２列目にて表現しています。![実装イメージ](/images/grid_sample.jpg)
   * 両端に指定した`1fr`により、画面幅に応じてコンテン外にあたる領域が伸び縮みしてくれるようになります。
2. ラッパーの子要素すべてに対して、columnを`2`と指定します。これは上で形成したグリッドレイアウトの中で`2列目`をコンテンツエリアとして割り当てることを意味します。これにより、コンテンツを中央に配置することが可能になります。

:::

上記コードで従来の方法と同じ挙動を実装することができます。
返ってコード複雑になってない？と思われた方もいらっしゃるかもしれないのですが、こちらの実装がどういう場面で活きてくるのかを説明します。

## 一部の要素を幅いっぱいに表示させたいとき

## コンテンツ幅から超過するスクロールエリアを作りたいとき


